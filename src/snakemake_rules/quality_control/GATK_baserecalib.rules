# vim: syntax=python tabstop=4 expandtab
# coding: utf-8

__author__ = "Hassan Foroughi Asl"

rule GATK_baserecalibrator:
    input:
        bam=lambda wildcard: config["path"]["bamout"] + config["samples"][wildcard.sample] + ".sorted.rmdup.bam",
        fa=config["path"]["genomefa"] + config["references"]["genomefa"],
    output:
        config["path"]["bamout"] + "{sample}.sorted.rmdup.bsrcl",
    shell:
        "gatk-launch BaseRecalibrator "
        "--reference {input.fa} "
        "-knownSites ../../data/simulated_data_131217/ref_data/samples/tumor.mutations.vcf "
        "-I {input.bam} --output {output}"
